# School Records Generator

This project generates realistic school datasets for SQL, Machine Learning, and statistical analysis, and provides a simple desktop GUI for:

* **Generating CSVs** of student, grade, academic, graduates, and termination records.
* **Uploading** those tables directly into Google BigQuery.

## Features

1. **Data Generation** (`school_records_generator.py` / `school_records_tk.py`)

   * **Grade Table**: subjects per grade (3 mandatory + 0–2 optional).
   * **Student Details**: unique `student_id`, name, birthdate. `new` vs. `transfer-in`, auto-calculated `enrollment_year` and `starting_grade`. *{Tracking Fields: `last_pct`, `fail_count`, `terminated`}* for internal simulation control.

   * **Academic Simulation**:  year-by-year records with class placement (A–D), marks, final percentage, promotion/failure.
   * **Graduates**: students who pass Grade 8.
   * **Terminated**: students who fail the same grade three times.
   * **Tracking Fields**: `last_pct`, `fail_count`, `terminated` for internal simulation control.

2. **GUI Application** (`ui.py`)

   * Built with **Tkinter** & **ttk** for a modern look.
   * Two independent actions:

     * **Generate CSVs**: writes five `*.csv` files to working directory.
     * **Upload to BigQuery**: pops up a dialog to browse for a service-account JSON, enter Project ID & Dataset ID, then loads tables into BigQuery.

3. **BigQuery Integration**

   * Automatically **creates** the dataset if missing.
   * Uses `google-cloud-bigquery` + `pyarrow` to load DataFrames with `WRITE_TRUNCATE`.

## Installation

1. **Clone the repo**:

   ```bash
   git clone https://your-repo-url.git
   cd school-records-generator
   ```
2. **Install dependencies**:

   ```bash
   pip install pandas Faker mimesis PySimpleGUI google-cloud-bigquery pyarrow
   ```

   Or for the GUI version:

   ```bash
   pip install pandas Faker mimesis google-cloud-bigquery pyarrow
   ```
3. **(Optional) PyInstaller** to create a standalone executable:

   ```bash
   pip install pyinstaller
   pyinstaller --onefile --windowed main.py
   ```

## Usage

### Command-line version

```bash
python school_records_generator.py
```

* Follow prompts to enter subject names, number of students, and start year.
* Generates: `grades.csv`, `students.csv`, `academic.csv`, `graduates.csv`, `terminated.csv`.

### GUI version

```bash
python school_records_tk.py
```

1. Enter **number of students**, **school start year**, and **8 subject names**.
2. Click **Generate CSVs** to produce CSV files.
3. Click **Upload to BigQuery**:

   * **Browse…** to select your service-account JSON key.
   * Enter **GCP Project ID** and **Dataset ID**.
   * Click **Upload** to load tables into BigQuery.

## Project Structure

```
├── school_records_generator.py    # CLI data generator + CSV exporter
├── school_records_tk.py           # Tkinter GUI app combining generation & BigQuery upload
├── README.md                      # This file
├── requirements.txt               # Pin your dependencies (optional)
└── dist/                          # Output folder for PyInstaller-built .exe
```

## Metadata Reference

See `Metadata Catalog` for a detailed description of each generated table and column, including types, definitions, and core logic behind values.

## Authentication

* **Service-account JSON** is required for BigQuery upload. Download from **IAM & Admin → Service Accounts → Manage keys**.
* Alternatively, use:

  ```bash
  gcloud auth application-default login
  ```

  to use your user credentials as Application Default Credentials.

## License

MIT License

---

*This project was generated by the School Records Generator tool.*
